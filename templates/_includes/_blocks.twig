{% if entry.contentBlocks|length %}
<section class="blocks {{ class|default('') }}">
{% for block in entry.contentBlocks %}

	{% switch block.type %}

		{% case 'text' %}

			<div class="block block__text">
				<div class="block__in">{{ block.text | pd }}</div>
			</div>

		{% case 'quote' %}

			<div class="block block__quote">
				<div class="block__in">
					<blockquote class="quote">
						<div class="quote__copy">{{ block.quote | md }}</div>

						{% if block.speaker | length %}
						<p class="quote__source">
							<span class="quote__speaker">{{ block.speaker }}{% if block.speakerTitle %} <span class="quote__speaker__title">{{ block.speakerTitle }}</span>{% endif %}</span>
						</p>
						{% endif %}
					</blockquote>
				</div>
			</div>

		{% case 'pullquote' %}

			<div class="block block__pullquote">
				<div class="block__in">
					<blockquote class="pullquote">
						{{ block.pullquote | pd }}
					</blockquote>
				</div>
			</div>

		{% case 'image' %}

			<figure class="block block__image">
				{% set imageSize = 'large' %}
				{% if block.imagePosition == 'full' %}
					{% set imageSize = 'xLarge' %}
				{% endif %}

				{% if block.imagePosition != 'full' %}<div class="block__in">{% endif %}
					{% for asset in block.image %}
						<img src="{{ asset.getUrl(imageSize) }}" alt="">
						
						{% if block.caption %}
							<figcaption class="block__caption">
								{{ block.caption | pd }}
							</figcaption>
						{% elseif asset.caption %}
							<figcaption class="block__caption">
								{{ asset.caption | pd }}
							</figcaption>
						{% endif %}
					{% endfor %}	
				{% if block.imagePosition != 'full' %}</div>{% endif %}
			</figure>

		{% case 'video' %}

			{% set video = craft.embedder.url(block.video) %}

			<figure class="block block__video">
				<div class="block__in">
					{{ video.embed_code }}
					
					{% if block.caption %}
						<figcaption class="block__caption">
							{{ block.caption | pd }}
						</figcaption>
					{% endif %}
				</div>
			</figure>

		{% case 'slideshow' %}

			<div class="block__slideshow">
				{% if block.showItems == '1' %}<div class="block__in">{% endif %}
				<div class="block__gallery" data-showitems="{{ block.showItems }}">
				{% for asset in block.images %}
					<figure class="block__slide">
						<img src="{{ asset.getUrl('largeGolden') }}" width="{{ asset.getWidth('largeGolden') }}" height="{{ asset.getHeight('largeGolden') }}" alt="{{ asset.caption }}">
					</figure>
				{% endfor %}
				</div>
				
				{% if block.caption %}
				<figcaption class="block__caption">
					{{ block.caption | pd }}
				</figcaption>
				{% endif %}
				{% if block.showItems == '1' %}</div>{% endif %}
			</div>

	{% endswitch %}

{% endfor %}
</section>
{% endif %}